<?xml version="1.0" encoding="UTF-8"?>
<DBDEF>
	<global>
		<!-- parameters passed to setup steps commands-->
		<default_params_type> basic_setup_step_params </default_params_type>
		<DB>
			<info> PFC_ASYM </info>
			<owner> SONiC </owner>
			<group> SONiC </group>

			<!-- OPTIONAL TAGS -->
			<tags> PFC_ASYM </tags>
			<ignore>
				<condition>
					<key> run_rpc_image </key>
					<op> == </op>
					<value>  no </value>
				</condition>
			</ignore>

			<!-- pre db commands - executed once before DB run -->
			<pre>
			</pre>
            <pre>
                <type> reg_exec_func </type>
                <name> deploy t0 topo </name>
                <mars_cmd_func> run_on_stm </mars_cmd_func>
                <run_posts_after_pre_failed> True </run_posts_after_pre_failed>
                <tout> 3000 </tout>
                <params>
                    <cmd> /root/pyenv/sonic/bin/python -E [[conf:execution_blocks.B_ID1.local_src_path]]/sonic-mgmt/sonic-tool/mars/scripts/rpc_check_and_set_topology.py </cmd>
                    <cmd_params> --topo [[conf:topology_file]]  --dut-name [[conf:extra_info.dut_name]] --current_topo [[conf:extra_info.topology]] --expected_topo t0 --workspace-path /root/mars/workspace  </cmd_params>
                </params>
            </pre>

            <post>
                <type> reg_exec_func </type>
                <name> restore original topo </name>
                <mars_cmd_func> run_on_stm </mars_cmd_func>
                <tout> 3000 </tout>
                <params>
                    <cmd> /root/pyenv/sonic/bin/python -E [[conf:execution_blocks.B_ID1.local_src_path]]/sonic-mgmt/sonic-tool/mars/scripts/rpc_check_and_set_topology.py </cmd>
                    <cmd_params> --topo [[conf:topology_file]]  --dut-name [[conf:extra_info.dut_name]] --current_topo t0 --expected_topo [[conf:extra_info.topology]] --workspace-path /root/mars/workspace  </cmd_params>
                </params>

            </post>
		</DB>
		<Test>
			<pre></pre>
			<post></post>
		</Test>
		<Case>
			<!-- OPTIONAL TAGS -->
			<!--<tags> TAG NAME</tags>-->
			<pre></pre>
			<ignore>
				<condition>
					<key> run_rpc_image </key>
					<op> == </op>
					<value>  no </value>
				</condition>
			</ignore>
			<post></post>
		</Case>
	</global>

    <test>
        <cases> sonic-mgmt/sonic-tool/mars/cases/community/pfc_counters.cases </cases>
    </test>

    <test>
        <cases> sonic-mgmt/sonic-tool/mars/cases/community/pfc_asym.cases </cases>
    </test>

    <test>
        <cases> sonic-mgmt/sonic-tool/mars/cases/community/copp.cases </cases>
    </test>

</DBDEF>
