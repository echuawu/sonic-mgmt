########################## NGTS IGNORE START ##########################
scripts/log_profiler/log_profiler.py :
  skip:
    reason: "The test not stable, skip it statically"

scripts/test_verify_secure_boot_enabled.py:
  skip:
    reason: "Skip the secure boot checker on SPC1, SPC2, SPC3"
    conditions_logical_operator: or
    conditions:
      - "'sn2' in platform"
      - "'sn3' in platform"
      - "'sn4' in platform"

tests/simx/test_simx_custom_base_mac.py:
  skip:
    reason: "Testcase skipped due to RM issue: https://redmine.mellanox.com/issues/3771102"
    conditions:
      - https://redmine.mellanox.com/issues/3771102

tests/nightly/rocev2_acl_counter:
  skip:
    reason: "Testcase skipped due to RM issue: https://redmine.mellanox.com/issues/3820604"
    conditions:
      - "https://redmine.mellanox.com/issues/3820604 and 'simx' in platform "

tests/nightly/crm/test_crm.py::test_crm_acl:
  skip:
    reason: "Testcase skipped due to RM issue: https://redmine.mellanox.com/issues/3841291"
    conditions:
      - "https://redmine.mellanox.com/issues/3841291"

tests/nightly/crm/test_crm.py::test_crm_route:
  skip:
    reason: "Testcase skipped due to RM issue: https://redmine.mellanox.com/issues/3933623"
    conditions:
      - "https://redmine.mellanox.com/issues/3933623"

tests/nightly/crm/test_crm.py::test_crm_nexthop_group_and_member:
  skip:
    reason: "Testcase skipped due to RM issue: https://redmine.mellanox.com/issues/3933623"
    conditions:
      - "https://redmine.mellanox.com/issues/3933623"

tests/nightly/ecmp_calculator/test_ecmp_calculator.py::TestInterfaceDefaultVrf:test_ecmp_calculator_interface_default_vrf:
  skip:
    reason: "Testcase skipped due to RM issue: https://redmine.mellanox.com/issues/3933623"
    conditions:
      - "https://redmine.mellanox.com/issues/3933623"

tests/push_build_tests/L3/static_route/test_static_route.py:
  skip:
    reason: "Testcase skipped due to RM issue: https://redmine.mellanox.com/issues/3933623"
    conditions:
      - "https://redmine.mellanox.com/issues/3933623"

tests/nightly/fec/test_fec.py::TestFec::test_fec_bug_2705016:
  skip:
    reason: "Testcase not supported on current platform"
    conditions:
      - "'simx' in platform or '2201' in platform"

tests/nightly/runtime/test_runtime.py:
  skip:
    reason: "Performance testcase ignored on simx platform"
    conditions_logical_operator: or
    conditions:
      - "'simx' in platform"
      - "https://redmine.mellanox.com/issues/3649746"

tests/nightly/runtime/test_runtime.py::TestRuntime::test_runtime[add_del_vlan]:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3896416"
    conditions:
    - "https://redmine.mellanox.com/issues/3896416"

tests/nightly/runtime/test_runtime.py::TestRuntime::test_runtime[add_del_route]:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3896416"
    conditions:
    - "https://redmine.mellanox.com/issues/3896416"

tests/nightly/runtime/test_runtime.py::TestRuntime::test_runtime[add_del_po]:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3896416"
    conditions:
    - "https://redmine.mellanox.com/issues/3896416"

tests/nightly/new_hw_thermal_control/test_new_hw_tc_algorithm.py::TestNewTc::test_sensor_errors[psu_err_direction]:
  skip:
    reason: "Testcase skipped due to RM issue: https://redmine.mellanox.com/issues/3851470 for simx platform"
    conditions:
      - "https://redmine.mellanox.com/issues/3851470 and 'simx' in platform "

tests/nightly/auto_negotition:
  skip:
    reason: "Testcase not supported on current platform"
    conditions_logical_operator: or
    conditions:
      - "'simx' in platform or '3800' in platform"

tests/nightly/dynamic_port_breakout:
  skip:
    reason: "Test is not supported on simx and 3800"
    conditions_logical_operator: or
    conditions:
      - "https://redmine.mellanox.com/issues/2885961 and 'simx' in platform"
      - "'3800' in platform"

tests/nightly/copp/test_copp.py::test_copp_policer[LLDP_Reboot]:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/2682609 on SIMX platform"
    conditions:
      - "https://redmine.mellanox.com/issues/2682609 and 'simx' in platform"

tests/nightly/copp/test_copp.py::test_copp_policer[LLDP]:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/2682609 on SIMX platform"
    conditions:
      - "https://redmine.mellanox.com/issues/2682609 and 'simx' in platform"

tests/nightly/sflow/test_sflow.py:
  skip:
    reason: "Test is not supported on simx"
    conditions:
      - "https://redmine.mellanox.com/issues/2271111 and 'simx' in platform"

tests/push_build_tests/L3/sflow/test_sflow.py:
  skip:
    reason: "sflow still isn't supported on Simx "
    conditions:
      - "https://redmine.mellanox.com/issues/2271111 and 'simx' in platform"

tests/push_build_tests/L2/lldp/test_lldp.py:
  skip:
    reason: "Testcase ignored due to RM issue https://redmine.mellanox.com/issues/3859194 on SIMX Platform"
    conditions:
    - "https://redmine.mellanox.com/issues/3859194 and 'simx' in platform"

tests/push_build_tests/L3/acl/test_acl.py::test_acl_traffic_match:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/2939326 on SIMX platform"
    conditions:
      - "https://redmine.mellanox.com/issues/2939326 and 'simx' in platform"

tests/push_build_tests/L3/acl/test_acl.py::test_acl_traffic_not_match:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/2939326 on SIMX platform"
    conditions:
      - "https://redmine.mellanox.com/issues/2939326 and 'simx' in platform"

tests/push_build_tests/general/wjh/test_wjh.py::test_l3_non_ip_packet:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3770476 on SIMX platform"
    conditions:
      - "https://redmine.mellanox.com/issues/3770476 and 'simx' in platform"

tests/push_build_tests/L2/vxlan/test_vxlan.py:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/2804440 on SIMX platform"
    conditions:
      - "https://redmine.mellanox.com/issues/2804440 and 'simx' in platform"

tests/push_build_tests/L2/vlan/test_vlan.py::TestVLAN::test_vlan_on_split_port:
  skip:
    reason: "Testcase ignored due to 2201 platform"
    conditions:
      - "'2201' in platform"

tests/push_build_tests/L3/dhcp_relay/test_dhcp_relay.py::TestDHCPRelay::test_dhcp_relay_release_message:
  skip:
    reason: "Testcase ignored due to GitHub issue: https://github.com/Azure/sonic-buildimage/issues/6053"
    conditions:
      - https://github.com/Azure/sonic-buildimage/issues/6053

tests/push_build_tests/L3/dhcp_relay/test_dhcp_relay.py::TestDHCPRelay::test_dhcp_relay_unicast_request_message:
  skip:
    reason: "Testcase ignored due to GitHub issue: https://github.com/Azure/sonic-buildimage/issues/6053"
    conditions:
      - https://github.com/Azure/sonic-buildimage/issues/6053

tests/nightly/adaptive_routing:
  skip:
    reason: "Adaptive Routing is not supported on SimX Platform"
    conditions:
    - "'simx' in platform"

tests/nightly/fec/test_fec.py::TestFec::test_negative_fec:
  skip:
    reason: "(SIMX platform) or (RM issue https://redmine.mellanox.com/issues/3900119 on sn5400)"
    conditions_logical_operator: or
    conditions:
      - "'simx' in platform"
      - "https://redmine.mellanox.com/issues/3900119 and ('sn5400' in platform)"

tests/nightly/fec/test_fec.py::TestFec::test_fec_capabilities_loopback_ports:
  skip:
    reason: "Testcase ignored due to platform 2201 or RM issue: https://redmine.mellanox.com/issues/3864087"
    conditions_logical_operator: or
    conditions:
      - "'2201' in platform"
      - "https://redmine.mellanox.com/issues/3864087"

tests/nightly/fec/test_fec.py::TestFec::test_fec_capabilities_hosts_ports:
  skip:
    reason: "Testcase ignored by simx in platform"
    conditions_logical_operator: or
    conditions:
      - "'simx' in platform"

tests/nightly/show_techsupport/test_techsupport.py::test_techsupport_fw_stuck_dump:
  skip:
    reason: "Testcase ignored due to platform SPC2/3 or simx. The leaks reported by ASAN during test are not real leaks, test should not run on ASAN image."
    conditions_logical_operator: or
    conditions:
      - "'simx' in platform"
      - "'ASAN' in build_version"

tests/nightly/show_techsupport/test_techsupport.py::test_techsupport_mellanox_sdk_dump[PLL_LOCK_EVENT]:
  skip:
    reason: "Testcase ignored on platforms SPC, SPC2"
    conditions:
      - "'sn2' in platform or 'sn3' in platform"

tests/nightly/show_techsupport/test_techsupport.py::test_techsupport_mellanox_sdk_dump:
  skip:
    reason: "Testcase ignored due to platform SIMX or due to RM issue 3894921"
    conditions:
      - "'simx' in platform"
      - "https://redmine.mellanox.com/issues/3894921"

tests/push_build_tests/general/wjh/test_wjh.py::test_buffer:
  skip:
    reason: "Testcase is not supported on simx"
    conditions:
      - "'simx' in platform"

tests/push_build_tests/general/doroce/test_doroce.py:
  skip:
    reason: "Testcase ignored on simx or due to SPC1 or due to RM issue 3769105 on SPC4 and SPC3"
    conditions_logical_operator: or
    conditions:
      - "'simx' in platform"
      - "'sn2' in platform or 'msn2700a1' in platform"
      - "https://redmine.mellanox.com/issues/3769105 and ('sn5' in platform or 'sn4' in platform)"

tests/nightly/rj45/test_rj45.py:
  skip:
    reason: "Testcase is only for alligator"
    conditions:
      - "'x86_64-mlnx_msn' in platform or 'x86_64-nvidia_sn4' in platform or 'x86_64-nvidia_sn5' in platform"

tests/nightly/p4/examples_application/p4_gtp_parser/test_gtp_parser.py:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3016336"
    conditions:
      - https://redmine.mellanox.com/issues/3016336

tests/nightly/p4/sampling_example/test_entry_advance.py:
  skip:
    reason: "Test not supported. Skip until all config_db.json file will be updated with breakout_cfg section"

tests/nightly/cpu_mem/test_bulk_counter_performance.py:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3832426"
    conditions:
    - "https://redmine.mellanox.com/issues/3832426"

tests/nightly/app_extension/test_app_extension_basic.py::test_app_techsupport_integration:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3272016 on SIMX platform"
    conditions:
      - "https://redmine.mellanox.com/issues/3272016 and 'simx' in platform"

tests/nightly/app_extension:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3245030 on Air setups"
    conditions:
      - "https://redmine.mellanox.com/issues/3245030 and 'air' in testbed"

tests/nightly/evpn_vxlan/test_evpn_vxlan_type5/test_evpn_vxlan_type5.py::TestEvpnVxlan::test_overlay_ecmp:
  skip:
    reason: "Testcase ignored due to need to config mtu at vm and hypervisor both"
    conditions:
      - "'simx' in platform"

tests/nightly/evpn_vxlan/test_evpn_vxlan_type5/test_evpn_vxlan_type5.py::TestEvpnVxlan:
  skip:
    reason: "Testcase ignored due to vxlan is not supported fully on SPC1 A0 chipset, SPC1 A0 is not a production chip and we won't support vxlan on it"
    conditions:
      - "'r-bulldog-02' in testbed"

tests/nightly/auto_negotition/test_auto_neg_scale.py::TestAutoNegScale::test_scale:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3518706 on MSN4410"
    conditions:
      - "https://redmine.mellanox.com/issues/3518706 and 'msn4410' in platform"

tests/nightly/auto_negotition/test_auto_neg.py::TestAutoNeg::test_auto_neg_conf:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3518706 on MSN4410 Platform"
    conditions:
      - "https://redmine.mellanox.com/issues/3518706 and 'msn4410' in platform"

tests/nightly/dynamic_port_breakout/test_dpb_introp.py::TestDPBInterop::test_dpb_configuration_interop:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3421305"
    conditions:
      - https://redmine.mellanox.com/issues/3421305

tests/nightly/dynamic_port_breakout/test_dpb_introp.py::TestDPBInterop::test_remove_dpb_configuration_interop:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3529394"
    conditions:
      - https://redmine.mellanox.com/issues/3529394

tests/push_build_tests/system/test_cpu_ram_hdd_usage.py::TestCpuRamHddUsage::test_ssd_endurance:
  skip:
    reason: "Test is not supported on SIMX platform"
    conditions:
      - "'simx' in platform"

tests/push_build_tests/general/wjh/test_wjh.py::test_l1_raw_drop:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3834140"
    conditions:
      - "https://redmine.mellanox.com/issues/3834140"

tests/nightly/secure/test_secure_boot.py:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3824755"
    conditions:
      - "https://redmine.mellanox.com/issues/3824755"

tests/push_build_tests/system/test_cpu_ram_hdd_usage.py::TestCpuRamHddUsage::test_ram_usage:
  skip:
    reason: "Testcase skipped due to RM issue: https://redmine.mellanox.com/issues/3879251 or the test is related to performance, no meaningful to run it on simx platform "
    conditions_logical_operator: or
    conditions:
      - "https://redmine.mellanox.com/issues/3879251 and 'x86_64-mlnx_msn2700-r0' in platform"
      - "https://redmine.mellanox.com/issues/3879251 and 'x86_64-mlnx_msn3700-r0' in platform"
      - "https://redmine.mellanox.com/issues/3964541 and '4700' in platform"
      - "'simx' in platform"

tests/nightly/secure/test_secure_boot/test_secure_boot.py::test_fwutil_install_bios_key_check_fail:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3924730"
    conditions:
      - "https://redmine.mellanox.com/issues/3924730"

tests/nightly/secure/test_secure_boot/test_secure_boot.py::test_fwutil_install_onie_key_check_fail:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3924730"
    conditions:
      - "https://redmine.mellanox.com/issues/3924730"

# The previous case test_fwutil_install_onie_key_check_fail failed due to 3924730 and failed to recover the DUT, so
# affect this case. Use the same issue to skip this case
tests/nightly/secure/test_secure_boot/test_secure_boot.py::test_secure_corrupt_fw:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3924730"
    conditions:
      - "https://redmine.mellanox.com/issues/3924730"

########################## NGTS IGNORE END ##########################


########################## NVIDIA INTERNAL COMMUNITY IGNORE START ##########################
sflow/test_sflow.py:
  skip:
    reason: "Testcase ignored due to community sflow test had not been adapted to the dualtor setup"
    conditions:
    - "'dualtor' in topo_name"

dash/platform/test_dpu_show_platform_temperature.py:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3923171"
    conditions:
      - "https://redmine.mellanox.com/issues/3923171"

platform_tests/fwutil/test_fwutil.py::test_fwutil_install_file[BIOS:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3863086"
    conditions:
      - "https://redmine.mellanox.com/issues/3863086"

platform_tests/fwutil/test_fwutil.py::test_fwutil_install_url[BIOS:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3863086"
    conditions:
      - "https://redmine.mellanox.com/issues/3863086"

platform_tests/fwutil/test_fwutil.py::test_fwutil_update_current[BIOS:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3863086"
    conditions:
      - "https://redmine.mellanox.com/issues/3863086"

tacacs/test_accounting.py:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3876512"
    conditions:
      - "https://redmine.mellanox.com/issues/3876512"

tacacs/test_authorization.py:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3876512"
    conditions:
      - "https://redmine.mellanox.com/issues/3876512"

platform_tests/cli/test_show_platform.py::test_show_platform_ssdhealth:
  skip:
    reason: "Simx doesn't support due to QEMU Disk and it is not meaningful to simulate it"
    conditions:
      - "'simx' in platform"

virtual_smart_switch/test_dpu_ip_assignment.py:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3858205"
    conditions:
      - "https://redmine.mellanox.com/issues/3858205"

syslog/test_logrotate.py::test_orchagent_logrotate:
  skip:
    reason: "Testcase ignored due to github issue: https://github.com/sonic-net/sonic-mgmt/issues/12612"
    conditions:
      - https://github.com/sonic-net/sonic-mgmt/issues/12612

tests/show_techsupport/test_auto_techsupport.py:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3814698 and SmartSwitch testbeds"
    conditions:
      - "https://redmine.mellanox.com/issues/3814698 and ('r-leopard-79' in testbed or 'mtvr-leopard-01' in testbed)"

show_techsupport/test_auto_techsupport.py::TestAutoTechSupport::test_rate_limit_interval:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3876676"
    conditions:
    - "https://redmine.mellanox.com/issues/3876676"

show_techsupport/test_auto_techsupport.py::TestAutoTechSupport::test_max_limit:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3876676"
    conditions:
    - "https://redmine.mellanox.com/issues/3876676"

passw_hardening/test_passw_hardening.py:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3814698 and SmartSwitch testbeds"
    conditions:
      - "https://redmine.mellanox.com/issues/3814698 and ('r-leopard-79' in testbed or 'mtvr-leopard-01' in testbed)"

bgp/test_bgp_bbr.py:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3814698 and SmartSwitch testbeds"
    conditions:
      - "https://redmine.mellanox.com/issues/3814698 and ('r-leopard-79' in testbed or 'mtvr-leopard-01' in testbed)"

gnmi/test_gnmi_configdb.py::test_gnmi_configdb_incremental_01:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3814698 and SmartSwitch testbeds"
    conditions:
      - "https://redmine.mellanox.com/issues/3814698 and ('r-leopard-79' in testbed or 'mtvr-leopard-01' in testbed)"

gnmi/test_gnmi_configdb.py::test_gnmi_configdb_full_01:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3814698 and SmartSwitch testbeds"
    conditions:
      - "https://redmine.mellanox.com/issues/3814698 and ('r-leopard-79' in testbed or 'mtvr-leopard-01' in testbed)"

cacl/test_cacl_application.py::test_cacl_application_nondualtor:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3817421 and SmartSwitch testbeds"
    conditions:
      - "https://redmine.mellanox.com/issues/3817421 and ('r-leopard-79' in testbed or 'mtvr-leopard-01' in testbed)"

dualtor_io/test_link_failure.py::test_active_link_down_upstream[active-standby]:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3572162 on 202211 branch"
    conditions:
      - "https://redmine.mellanox.com/issues/3572162 and '202211' in release"

arp/test_wr_arp.py::TestWrArp::testWrArp:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3431638 on sn5600 platform"
    conditions:
      - "https://redmine.mellanox.com/issues/3431638 and 'sn5600' in platform"

autorestart/test_container_autorestart.py::test_containers_autorestart[r-tigris-26-None-teamd]:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3587377"
    conditions:
      - "https://redmine.mellanox.com/issues/3587377"

qos/test_qos_sai.py::TestQosSai::testQosSaiQSharedWatermark:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3097795 and branch 202111, or RM 3486128 and branch 202211 and sn5600 in platform"
    conditions_logical_operator: or
    conditions:
      - "https://redmine.mellanox.com/issues/3097795 and '202111' in release"
qos/test_qos_sai.py::TestQosSai::testQosSaiHeadroomPoolSize:
  skip:
    reason: "Testcase ignored due to RM issue https://redmine.mellanox.com/issues/3900025"
    conditions:
      - "https://redmine.mellanox.com/issues/3900025"

telemetry/test_events.py::test_events:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3842291"
    conditions:
    - "https://redmine.mellanox.com/issues/3842291"

snmp/test_snmp_queue.py::test_snmp_queue:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3840674"
    conditions:
    - "https://redmine.mellanox.com/issues/3840674 and '5600' in platform"

platform_tests/test_advanced_reboot.py::test_fast_reboot_from_other_vendor:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3225815"
    conditions:
      - https://redmine.mellanox.com/issues/3225815

platform_tests/test_cpu_memory_usage.py:
  skip:
    reason: "Testcase ignored due to simx or RM 3811231"
    conditions_logical_operator: or
    conditions:
      - "'simx' in platform"
      - "https://redmine.mellanox.com/issues/3811231 and 'r-alligator-04' in testbed"

platform_tests/cli/test_show_platform.py::test_show_platform_psustatus:
  skip:
    reason: "Testcase ignored due to platform nvda_bf or due to RM issue: https://redmine.mellanox.com/issues/3852184 on leopard"
    conditions_logical_operator: or
    conditions:
      - "'nvda_bf' in platform"
      - "https://redmine.mellanox.com/issues/3852184 and 'sn4700' in platform"

platform_tests/cli/test_show_platform.py::test_show_platform_psustatus_json:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3852184 on leopard"
    conditions:
      - "https://redmine.mellanox.com/issues/3852184 and 'sn4700' in platform"

process_monitoring/test_critical_process_monitoring.py:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3464488 and platform nvda_bf"
    conditions_logical_operator: or
    conditions:
      - "https://redmine.mellanox.com/issues/3464488 and 'nvda_bf' in platform"

platform_tests/test_auto_negotiation.py:
  skip:
    reason: "Testcase ignored due to platform 3800 and the fanout of r-tigon-11 setup is 3800"
    conditions_logical_operator: or
    conditions:
      - "'3800' in platform"
      - "'r-tigon-11' in testbed"

everflow/test_everflow_testbed.py:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3431638 and platform sn5"
    conditions:
      - "https://redmine.mellanox.com/issues/3431638 and 'sn5' in platform"

# SONiC can't enable loop-back filter feature
# Test case is skipped, because SONiC does not have a control to adjust loop-back filter settings.
# Default SONiC behavior is to forward the traffic, so loop-back filter does not triggers for IP packets.
# All router interfaces has attribute "sx_interface_attributes_t.loopback_enable" - enabled.
# To enable loop-back filter drops - need to disable that attribute when create RIF.
# To do this can be used SAI attribute SAI_ROUTER_INTERFACE_ATTR_LOOPBACK_PACKET_ACTION, which is not exposed to SONiC
drop_packets/test_wjh.py:
  skip:
    reason: "WJH test doesn't support dualtor topology"
    conditions:
      - "'dualtor' in topo_name"

drop_packets/test_wjh.py::test_loopback_filter:
  skip:
    reason: "Testcase ignored due to platform x86_64-mlnx_msn/x86_64-nvidia"
    conditions:
      - "'x86_64-mlnx_msn' in platform or 'x86_64-nvidia' in platform"

drop_packets/test_wjh.py::test_dst_ip_link_local:
  skip:
    reason: "Some mlx platforms does not drop DIP link local packets"
    conditions:
      - "'Mellanox' in hwsku"

platform_tests/fwutil/test_fwutil.py:
  skip:
    reason: "Testcase ignored due to branch 202106"
    conditions:
      - "'202106' in release"

platform_tests/fwutil/test_fwutil.py::test_fwutil_update_next:
  skip:
    reason: "Test flow is covered by push gate with upgrade flow"

platform_tests/fwutil/test_fwutil.py::test_fwutil_install_file:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/2382365 and platform 2100"
    conditions:
      - "https://redmine.mellanox.com/issues/2382365 and '2100' in platform"

platform_tests/fwutil/test_fwutil.py::test_fwutil_install_url:
  skip:
    reason: "Testcase ignored - check ignore condition in tests/common/plugins/conditional_mark/tests_mark_conditions_nvidia_internal.yaml"
    conditions_logical_operator: or
    conditions:
      - "https://redmine.mellanox.com/issues/2382365 and '2100' in platform"

platform_tests/fwutil/test_fwutil.py::test_fwutil_auto:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/2382365 and platform 2100"
    conditions:
      - "https://redmine.mellanox.com/issues/2382365 and '2100' in platform"

platform_tests/fwutil/test_fwutil.py::test_fwutil_update_current:
  skip:
    reason: "Testcase ignored - check ignore condition in tests/common/plugins/conditional_mark/tests_mark_conditions_nvidia_internal.yaml"
    conditions_logical_operator: or
    conditions:
      - "https://redmine.mellanox.com/issues/2382365 and '2100' in platform"

platform_tests/test_reboot.py:
  skip:
    reason: "Testcase ignored due to platform 2010 or simx doesn't support due to QSFP eeprom emulation is not supported currently. Target POR 2023.Rel.2"
    conditions_logical_operator: or
    conditions:
      - "'2010' in platform"
      - "'simx' in platform"

platform_tests/test_reboot.py::test_warm_reboot:
  skip:
    reason: "Testcase ignored due to platform 2100"
    conditions:
      - "'2100' in platform"

platform_tests/test_reboot.py::test_power_off_reboot:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3013086 and platform 2100"
    conditions:
      - "https://redmine.mellanox.com/issues/3013086 and '2100' in platform"

platform_tests/api/test_psu.py::TestPsuApi::test_temperature:
  skip:
    reason: "Testcase ignored due to platform 2010/2100"
    conditions_logical_operator: or
    conditions:
      - "'2010' in platform or '2100' in platform"

platform_tests/api/test_chassis.py::TestChassisApi::test_sfps:
  skip:
    reason: "Testcase ignored on r-alligator-04 due to RM issue: https://redmine.mellanox.com/issues/3811231"
    conditions:
    - "https://redmine.mellanox.com/issues/3811231 and 'r-alligator-04' in testbed"

platform_tests/api/test_sfp.py:
  skip:
    reason: "Testcase ignored on r-alligator-04 due to RM issue: https://redmine.mellanox.com/issues/3811231;QSFP eeprom emulation is not supported currently."
    conditions_logical_operator: or
    conditions:
    - "https://redmine.mellanox.com/issues/3811231 and 'r-alligator-04' in testbed"
    - "'simx' in platform"

platform_tests/mellanox/test_check_sfp_eeprom.py:
  skip:
    reason: "Testcase ignored on r-alligator-04 due to RM issue: https://redmine.mellanox.com/issues/3811231;QSFP eeprom emulation is not supported currently. Target POR 2023.Rel.2"
    conditions_logical_operator: or
    conditions:
    - "https://redmine.mellanox.com/issues/3811231 and 'r-alligator-04' in testbed"
    - "'simx' in platform"

platform_tests/mellanox/test_check_sfp_presence.py:
  skip:
    reason: "Testcase ignored on r-alligator-04 due to RM issue: https://redmine.mellanox.com/issues/3811231;QSFP eeprom emulation is not supported currently."
    conditions_logical_operator: or
    conditions:
    - "https://redmine.mellanox.com/issues/3811231 and 'r-alligator-04' in testbed"
    - "'simx' in platform"

platform_tests/mellanox/test_check_sysfs.py:
  skip:
    reason: "Testcase ignored on r-alligator-04 due to RM issue: https://redmine.mellanox.com/issues/3811231"
    conditions:
    - "https://redmine.mellanox.com/issues/3811231 and 'r-alligator-04' in testbed"

platform_tests/mellanox/test_hw_management_service_status.py:
  skip:
    reason: "Testcase ignored on r-alligator-04 due to RM issue: https://redmine.mellanox.com/issues/3811231"
    conditions:
    - "https://redmine.mellanox.com/issues/3811231 and 'r-alligator-04' in testbed"

platform_tests/sfp/test_sfpshow.py:
  skip:
    reason: "Testcase ignored on r-alligator-04 due to RM issue: https://redmine.mellanox.com/issues/3811231;QSFP eeprom emulation is not supported currently."
    conditions_logical_operator: or
    conditions:
    - "https://redmine.mellanox.com/issues/3811231 and 'r-alligator-04' in testbed"
    - "'simx' in platform"

platform_tests/sfp/test_show_intf_xcvr.py:
  skip:
    reason: "Testcase ignored on r-alligator-04 due to RM issue: https://redmine.mellanox.com/issues/3811231;QSFP eeprom emulation is not supported currently."
    conditions_logical_operator: or
    conditions:
    - "https://redmine.mellanox.com/issues/3811231 and 'r-alligator-04' in testbed"
    - "'simx' in platform"

platform_tests/test_platform_info.py::test_show_platform_temperature_mocked:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3570140"
    conditions_logical_operator: or
    conditions:
      - "https://redmine.mellanox.com/issues/3570140 and'simx' in platform"
      - "https://redmine.mellanox.com/issues/3811231 and 'r-alligator-04' in testbed"

platform_tests/test_platform_info.py::test_thermal_control_fan_status:
  skip:
    reason: "Testcase ignored on r-alligator-04 due to RM issue: https://redmine.mellanox.com/issues/3811231"
    conditions:
    - "https://redmine.mellanox.com/issues/3811231 and 'r-alligator-04' in testbed"

platform_tests/fw_utility/test_fwutil.py:
  skip:
    reason: "Testcase ignored due to platform msn4"
    conditions:
      - "'msn4' in platform"

mvrf/test_mgmtvrf.py:
  skip:
    reason: "Testcase ignored due to GitHub issue: https://github.com/Azure/sonic-mgmt/issues/3589"
    conditions:
      - https://github.com/Azure/sonic-mgmt/issues/3589

fib/test_fib.py:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3811962 on r-panther-02"
    conditions:
    - "https://redmine.mellanox.com/issues/3811962 and 'r-panther-02' in testbed"

ecmp/inner_hashing:
  skip:
    reason: "Testcase ignored due to platform msn2 or branch 202106"
    conditions_logical_operator: or
    conditions:
      - "'msn2' in platform"
      - "'202106' in release"

platform_tests/test_sensors.py::test_sensors:
  skip:
    reason: "Testcase ignored due to RM issue 3556737 on simx platform, due to RM issue 3816778 on r-anaconda-15 or due to RM issue 3859826 on sn4600"
    conditions_logical_operator: or
    conditions:
    - "https://redmine.mellanox.com/issues/3556737 and 'simx' in platform"
    - "https://redmine.mellanox.com/issues/3816778 and 'r-anaconda-15' in testbed"
    - "https://redmine.mellanox.com/issues/3925256 and 'sn4600' in platform"

qos/test_qos_sai_dual_tor.py:
  skip:
    reason: "test_qos_sai_dual_tor tests only support on Mellanox-SN4600C-C64 and Mellanox-SN2700-D48C8"
    conditions:
      - "hwsku not in ['Mellanox-SN4600C-C64', 'Mellanox-SN2700-D48C8', 'Mellanox-SN4700-O8V48']"

platform_tests/test_platform_info.py::test_turn_on_off_psu_and_check_psustatus:
  skip:
    reason: "Simx doesn't support PSU"
    conditions_logical_operator: or
    conditions:
      - "'simx' in platform"

platform_tests/api/test_watchdog.py:
  skip:
    reason: "Simx doesn't support CPLD"
    conditions:
      - "'simx' in platform"

platform_tests/test_reload_config.py::test_reload_configuration:
  skip:
    reason: "Simx doesn't support due to QSFP eeprom emulation is not supported currently. Target POR 2023.Rel.2"
    conditions_logical_operator: or
    conditions:
      - "'simx' in platform"

system_health/test_system_health.py::test_device_checker:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3808455"
    conditions:
      - "https://redmine.mellanox.com/issues/3808455"

qos/test_lossless_bum_traffic_drop.py:
  skip:
    reason: "Test does not support dualtor topology."
    conditions:
      - "'dualtor' in topo_name"

iface_loopback_action/test_iface_loopback_action_wjh.py:
  skip:
    reason: "Testcase ignored due to dualtor topology. Ignored due to RM issue: https://redmine.mellanox.com/issues/3813764"
    conditions_logical_operator: or
    conditions:
      - "'dualtor' in topo_name"
      - "https://redmine.mellanox.com/issues/3813764"

platform_tests/test_cpu_memory_usage.py::test_cpu_memory_usage:
  skip:
    reason: "Testcase ignored due to platform nvda_bf and RM issue: https://redmine.mellanox.com/issues/3754090"
    conditions:
      - "https://redmine.mellanox.com/issues/3754090 and 'nvda_bf' in platform"

dash/test_dash_acl.py::test_acl_fields:
  skip:
    reason: "Testcase ignored due to platform nvda_bf and RM issue: https://redmine.mellanox.com/issues/3949776"
    conditions:
      - "https://redmine.mellanox.com/issues/3949776"

dash/crm/test_dash_crm.py::TestDashCRM::test_dash_routing:
  skip:
    reason: "Testcase ignored due to platform nvda_bf and RM issue: https://redmine.mellanox.com/issues/3424756"
    conditions:
      - "https://redmine.mellanox.com/issues/3424756 and 'nvda_bf' in platform"

dash/crm/test_dash_crm.py::TestDashCRM::test_dash_outbound_ca_to_pa:
  skip:
    reason: "Testcase ignored due to platform nvda_bf and RM issue: https://redmine.mellanox.com/issues/3424756"
    conditions:
      - "https://redmine.mellanox.com/issues/3424756 and 'nvda_bf' in platform"

dash/crm/test_dash_crm.py::TestDashCRM::test_dash_acl_group:
  skip:
    reason: "Testcase ignored due to platform nvda_bf and RM issue: https://redmine.mellanox.com/issues/3424756"
    conditions:
      - "https://redmine.mellanox.com/issues/3424756 and 'nvda_bf' in platform"

dash/crm/test_dash_crm.py::TestDashCRM::test_dash_acl_rules:
  skip:
    reason: "Testcase ignored due to platform nvda_bf and RM issue: https://redmine.mellanox.com/issues/3424756"
    conditions:
      - "https://redmine.mellanox.com/issues/3424756 and 'nvda_bf' in platform"

dash/crm/test_dash_crm.py::TestDashCRM::test_dash_crm_cleanup:
  skip:
    reason: "Testcase ignored due to platform nvda_bf and RM issue: https://redmine.mellanox.com/issues/3424756"
    conditions:
      - "https://redmine.mellanox.com/issues/3424756 and 'nvda_bf' in platform"

platform_tests/test_advanced_reboot.py::test_warm_reboot:
  xfail:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3836756 and '2700' in platform"
    conditions:
      - "https://redmine.mellanox.com/issues/3836756 and '2700' in platform"

dash/test_dash_vnet.py::test_outbound_vnet_direct:
  skip:
    reason: "Testcase ignored due to platform nvda_bf and RM issue: https://redmine.mellanox.com/issues/3634592"
    conditions:
      - "https://redmine.mellanox.com/issues/3634592 and 'nvda_bf' in platform"

hash/test_generic_hash.py::test_ecmp_hash[CRC-INNER_IP_PROTOCOL:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3870562"
    conditions:
    - "https://redmine.mellanox.com/issues/3870562"

hash/test_generic_hash.py::test_lag_hash[CRC-INNER_IP_PROTOCOL:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3870562"
    conditions:
    - "https://redmine.mellanox.com/issues/3870562"

hash/test_generic_hash.py::test_ecmp_hash[CRC_CCITT-INNER_IP_PROTOCOL:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3870562"
    conditions:
    - "https://redmine.mellanox.com/issues/3870562"

hash/test_generic_hash.py::test_lag_hash[CRC_CCITT-INNER_IP_PROTOCOL:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3870562"
    conditions:
    - "https://redmine.mellanox.com/issues/3870562"

hash/test_generic_hash.py::test_ecmp_and_lag_hash[CRC-INNER_IP_PROTOCOL:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3870562"
    conditions:
    - "https://redmine.mellanox.com/issues/3870562"

hash/test_generic_hash.py::test_ecmp_and_lag_hash[CRC_CCITT-INNER_IP_PROTOCOL:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3870562"
    conditions:
    - "https://redmine.mellanox.com/issues/3870562"

hash/test_generic_hash.py::test_ecmp_hash[CRC-INNER_L4_SRC_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_lag_hash[CRC-INNER_L4_SRC_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_ecmp_hash[CRC_CCITT-INNER_L4_SRC_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_lag_hash[CRC_CCITT-INNER_L4_SRC_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_ecmp_hash[CRC_CCITT-INNER_L4_DST_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_lag_hash[CRC_CCITT-INNER_L4_DST_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_ecmp_hash[CRC-INNER_L4_DST_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_lag_hash[CRC-INNER_L4_DST_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_lag_hash[CRC_CCITT-INNER_ETHERTYPE:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_lag_hash[CRC-INNER_ETHERTYPE:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_ecmp_and_lag_hash[CRC-INNER_L4_DST_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_ecmp_and_lag_hash[CRC_CCITT-INNER_L4_DST_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_ecmp_and_lag_hash[CRC-INNER_L4_SRC_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_ecmp_and_lag_hash[CRC_CCITT-INNER_L4_SRC_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_lag_member_flap[CRC-INNER_IP_PROTOCOL:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3870562"
    conditions:
    - "https://redmine.mellanox.com/issues/3870562"

hash/test_generic_hash.py::test_lag_member_flap[CRC_CCITT-INNER_IP_PROTOCOL:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3870562"
    conditions:
    - "https://redmine.mellanox.com/issues/3870562"

hash/test_generic_hash.py::test_lag_member_flap[CRC-INNER_L4_SRC_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_lag_member_flap[CRC-INNER_L4_DST_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_lag_member_flap[CRC_CCITT-INNER_L4_SRC_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_lag_member_flap[CRC_CCITT-INNER_L4_DST_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_lag_member_remove_add[CRC-INNER_IP_PROTOCOL:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3870562"
    conditions:
    - "https://redmine.mellanox.com/issues/3870562"

hash/test_generic_hash.py::test_lag_member_remove_add[CRC_CCITT-INNER_IP_PROTOCOL:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3870562"
    conditions:
    - "https://redmine.mellanox.com/issues/3870562"

hash/test_generic_hash.py::test_lag_member_remove_add[CRC-INNER_L4_SRC_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_lag_member_remove_add[CRC-INNER_L4_DST_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_lag_member_remove_add[CRC_CCITT-INNER_L4_SRC_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_lag_member_remove_add[CRC_CCITT-INNER_L4_DST_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_nexthop_flap[CRC-INNER_IP_PROTOCOL:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3870562"
    conditions:
    - "https://redmine.mellanox.com/issues/3870562"

hash/test_generic_hash.py::test_nexthop_flap[CRC_CCITT-INNER_IP_PROTOCOL:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3870562"
    conditions:
    - "https://redmine.mellanox.com/issues/3870562"

hash/test_generic_hash.py::test_nexthop_flap[CRC-INNER_L4_SRC_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_nexthop_flap[CRC-INNER_L4_DST_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_nexthop_flap[CRC_CCITT-INNER_L4_SRC_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_nexthop_flap[CRC-IN_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3872427"
    conditions:
    - "https://redmine.mellanox.com/issues/3872427"

hash/test_generic_hash.py::test_nexthop_flap[CRC_CCITT-IN_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3872427"
    conditions:
    - "https://redmine.mellanox.com/issues/3872427"

hash/test_generic_hash.py::test_lag_member_remove_add[CRC-IN_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3872427"
    conditions:
    - "https://redmine.mellanox.com/issues/3872427"

hash/test_generic_hash.py::test_lag_member_remove_add[CRC_CCITT-IN_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3872427"
    conditions:
    - "https://redmine.mellanox.com/issues/3872427"

hash/test_generic_hash.py::test_reboot[CRC-IN_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3872427"
    conditions:
    - "https://redmine.mellanox.com/issues/3872427"

hash/test_generic_hash.py::test_reboot[CRC_CCITT-IN_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3872427"
    conditions:
    - "https://redmine.mellanox.com/issues/3872427"

hash/test_generic_hash.py::test_lag_member_flap[CRC-IN_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3872427"
    conditions:
    - "https://redmine.mellanox.com/issues/3872427"

hash/test_generic_hash.py::test_lag_member_flap[CRC_CCITT-IN_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3872427"
    conditions:
    - "https://redmine.mellanox.com/issues/3872427"

hash/test_generic_hash.py::test_nexthop_flap[CRC_CCITT-INNER_L4_DST_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_reboot[CRC-INNER_IP_PROTOCOL:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3870562"
    conditions:
    - "https://redmine.mellanox.com/issues/3870562"

hash/test_generic_hash.py::test_reboot[CRC_CCITT-INNER_IP_PROTOCOL:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3870562"
    conditions:
    - "https://redmine.mellanox.com/issues/3870562"

hash/test_generic_hash.py::test_reboot[CRC-INNER_L4_SRC_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_reboot[CRC-INNER_L4_DST_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_reboot[CRC_CCITT-INNER_L4_SRC_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_reboot[CRC_CCITT-INNER_L4_DST_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3710956"
    conditions:
    - "https://redmine.mellanox.com/issues/3710956"

hash/test_generic_hash.py::test_lag_hash[CRC-DST_MAC:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3870867"
    conditions:
    - "https://redmine.mellanox.com/issues/3870867"

hash/test_generic_hash.py::test_lag_hash[CRC_CCITT-DST_MAC:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3870867"
    conditions:
    - "https://redmine.mellanox.com/issues/3870867"

hash/test_generic_hash.py::test_lag_hash[CRC-ETHERTYPE:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3870867"
    conditions:
    - "https://redmine.mellanox.com/issues/3870867"

hash/test_generic_hash.py::test_lag_hash[CRC_CCITT-ETHERTYPE:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3870867"
    conditions:
    - "https://redmine.mellanox.com/issues/3870867"

hash/test_generic_hash.py::test_lag_hash[CRC-VLAN_ID:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3870867"
    conditions:
    - "https://redmine.mellanox.com/issues/3870867"

hash/test_generic_hash.py::test_lag_hash[CRC_CCITT-VLAN_ID:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3870867"
    conditions:
    - "https://redmine.mellanox.com/issues/3870867"

hash/test_generic_hash.py::test_ecmp_and_lag_hash[CRC-IN_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3872427"
    conditions:
    - "https://redmine.mellanox.com/issues/3872427"

hash/test_generic_hash.py::test_ecmp_and_lag_hash[CRC_CCITT-IN_PORT:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3963150"
    conditions:
    - "https://redmine.mellanox.com/issues/3963150"

hash/test_generic_hash.py::test_lag_member_remove_add:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3647677"
    conditions:
      - "https://redmine.mellanox.com/issues/3647677"

hash/test_generic_hash.py::test_lag_member_flap:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3647677"
    conditions:
      - "https://redmine.mellanox.com/issues/3647677"

platform_tests/daemon/test_syseepromd.py::test_pmon_syseepromd_kill_and_start_status:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3771095"
    conditions:
      - "https://redmine.mellanox.com/issues/3771095 and 'nvda_bf' in platform"

bgp/test_bgp_update_timer.py::test_bgp_update_timer_single_route:
  xfail:
    reason: "Testcase statistically fails due to RM issue: https://redmine.mellanox.com/issues/3790712"
    conditions:
      - "https://redmine.mellanox.com/issues/3790712"

platform_tests/test_secure_upgrade.py:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3824755"
    conditions:
      - "https://redmine.mellanox.com/issues/3824755"

########################## NVIDIA INTERNAL COMMUNITY IGNORE END ############################


########################## NVIDIA INTERNAL SIMX EMULATION IGNORE START ############################
platform_tests/mellanox/test_check_sfp_using_ethtool.py:
  skip:
    reason: "QSFP eeprom emulation is not supported currently."
    conditions:
      - "'simx' in platform"

platform_tests/mellanox/test_check_sfp_plug_in_out_sim.py:
  skip:
    reason: "QSFP eeprom emulation is not supported currently."
    conditions:
      - "'simx' in platform"

platform_tests/sfp/test_sfputil.py:
  skip:
    reason: "QSFP eeprom emulation is not supported currently."
    conditions:
      - "'simx' in platform"

platform_tests/test_xcvr_info_in_db.py:
  skip:
    reason: "QSFP eeprom emulation is not supported currently. Target POR 2023.Rel.2"
    conditions:
      - "'simx' in platform"

platform_tests/api/test_chassis.py::TestChassisApi::test_get_base_mac:
  skip:
    reason: "When deploying image, Simx will generate dynamic MAC"
    conditions:
      - "'simx' in platform"

platform_tests/api/test_chassis.py::TestChassisApi::test_get_system_eeprom_info:
  skip:
    reason: "When deploying image, Simx will generate dynamic MAC"
    conditions:
      - "'simx' in platform"

platform_tests/test_sequential_restart.py:
  skip:
    reason: "QSFP eeprom emulation is not supported currently. Target POR 2023.Rel.2"
    conditions:
      - "'simx' in platform"

platform_tests/cli/test_show_platform.py::test_show_platform_syseeprom:
  skip:
    reason: "When deploying image, Simx will generate dynamic MAC"
    conditions:
      - "'simx' in platform"

platform_tests/api/test_chassis.py::TestChassisApi::test_thermals:
  skip:
    reason: "Skip simx platform by bug of https://redmine.mellanox.com/issues/3585579"
    conditions:
      - "https://redmine.mellanox.com/issues/3585579 and 'simx' in platform"

platform_tests/api/test_chassis.py::TestChassisApi::test_get_name:
  skip:
    reason: " Skip simx platform by bug of https://redmine.mellanox.com/issues/3836121"
    conditions:
      - "https://redmine.mellanox.com/issues/3836121 and 'sn4280_simx' in platform"

platform_tests/api/test_chassis.py::TestChassisApi::test_get_serial:
  skip:
    reason: " Skip simx platform by bug of https://redmine.mellanox.com/issues/3679414"
    conditions:
      - "https://redmine.mellanox.com/issues/3679414 and 'simx' in platform"

platform_tests/api/test_chassis.py::TestChassisApi::test_get_model:
  skip:
    reason: " Skip simx platform by bug of https://redmine.mellanox.com/issues/3679414"
    conditions:
      - "https://redmine.mellanox.com/issues/3679414 and 'simx' in platform"

platform_tests/test_memory_exhaustion.py::TestMemoryExhaustion::test_memory_exhaustion:
  skip:
    reason: "Simx doesn't support PDU"
    conditions:
      - "'simx' in platform"

platform_tests/test_platform_info.py::test_show_platform_fanstatus_mocked:
  skip:
    reason: "Skip simx platform by bug of https://redmine.mellanox.com/issues/3715758"
    conditions:
      - "https://redmine.mellanox.com/issues/3715758 and'simx' in platform"

platform_tests/mellanox/test_check_sysfs.py::test_check_hw_mgmt_sysfs:
  skip:
    reason: "bobcat driver doesn't need /var/run/hw-management/thermal/asic due to using independent mode"
    conditions_logical_operator: or
    conditions:
      - "'sn4280_simx' in platform"

platform_tests/test_power_off_reboot.py:
  skip:
    reason: "Simx doesn't support PDU"
    conditions:
      - "'simx' in platform"

platform_tests/daemon/test_syseepromd.py::test_pmon_syseepromd_running_status:
  skip:
    reason: "Skip simx platform by bug of https://redmine.mellanox.com/issues/3715826"
    conditions:
      - "https://redmine.mellanox.com/issues/3715826 and'simx' in platform"

platform_tests/mellanox/test_reboot_cause.py:
  skip:
    reason: "bobcat driver doesn't support reset_from_asic and reset_reload_bios"
    conditions:
    - "'sn4280_simx' in platform"

########################## NVIDIA INTERNAL SIMX EMULATION IGNORE END ############################

########################## NVIDIA INTERNAL HIPPO BRINGUP IGNORE START ############################

platform_tests/test_sensors.py:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3768210"
    conditions:
      - "https://redmine.mellanox.com/issues/3768210 and ('sn5400' in platform)"

tests/nightly/fec/:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3803610 and https://redmine.mellanox.com/issues/3803620"
    conditions:
      - "https://redmine.mellanox.com/issues/3803610 and ('sn5400' in platform)"
      - "https://redmine.mellanox.com/issues/3803620 and ('sn5400' in platform)"

tests/nightly/auto_negotition/test_auto_neg.py:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3803610 and https://redmine.mellanox.com/issues/3803620"
    conditions:
      - "https://redmine.mellanox.com/issues/3803610 and ('sn5400' in platform)"
      - "https://redmine.mellanox.com/issues/3803620 and ('sn5400' in platform)"

tests/nightly/auto_negotition/test_auto_neg_scale.py:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3803610 and https://redmine.mellanox.com/issues/3803620"
    conditions:
      - "https://redmine.mellanox.com/issues/3803610 and ('sn5400' in platform)"
      - "https://redmine.mellanox.com/issues/3803620 and ('sn5400' in platform)"

platform_tests/fwutil/test_fwutil.py::test_fwutil_show:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3783313"
    conditions:
      - "https://redmine.mellanox.com/issues/3783313 and ('sn5400' in platform)"

tests/nightly/lag/test_lag.py:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3783776"
    conditions:
      - "https://redmine.mellanox.com/issues/3783776 and ('sn5400' in platform)"

process_monitoring/test_critical_process_monitoring.py::test_monitoring_critical_processes:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3785021"
    conditions_logical_operator: or
    conditions:
      - "https://redmine.mellanox.com/issues/3785021 and ('sn5400' in platform)"
      - "https://redmine.mellanox.com/issues/3811985 and ('r-leopard-79' in testbed or 'mtvr-leopard-01' in testbed)"

cacl/test_cacl_application.py/test_cacl_application_nondualtor:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3817421 on virtual smartswitch testbed"
    conditions:
      - "https://redmine.mellanox.com/issues/3817421 and ('r-leopard-79' in testbed or 'mtvr-leopard-01' in testbed)"

process_monitoring/test_critical_process_monitoring.py::test_orchagent_heartbeat:
  skip:
    reason: "Testcase ignored due to RM issue 3879572 or to RM issue 3785024 on sn5400"
    conditions_logical_operator: or
    conditions:
    - "https://redmine.mellanox.com/issues/3879572"
    - "https://redmine.mellanox.com/issues/3785024 and ('sn5400' in platform)"

tests/nightly/secure/test_secure_upgrade/test_secure_upgrade.py:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3803598"
    conditions:
      - "https://redmine.mellanox.com/issues/3803598 and ('sn5400' in platform)"

tests/push_build_tests/system/test_reboot_reload.py:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3795822"
    conditions:
      - "https://redmine.mellanox.com/issues/3795822 and ('sn5400' in platform)"

platform_tests/cli/test_show_platform.py::test_show_platform_pcieinfo:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3892182"
    conditions:
      - "https://redmine.mellanox.com/issues/3892182 and ('sn5400' in platform)"

platform_tests/daemon/test_pcied.py::test_pmon_pcied_running_status:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3892182"
    conditions:
      - "https://redmine.mellanox.com/issues/3892182 and ('sn5400' in platform)"

console/test_console_driver.py:
  skip:
    reason: "Not supported on existing testbed. the switch needs to be attached to a DUT via USB link."

console/test_console_loopback.py:
  skip:
    reason: "Not supported on existing testbed. the switch needs to be attached to a DUT via USB link."

console/test_console_reversessh.py:
  skip:
    reason: "Not supported on existing testbed. the switch needs to be attached to a DUT via USB link."

console/test_console_udevrule.py:
  skip:
    reason: "Not supported on existing testbed. the switch needs to be attached to a DUT via USB link."

console/test_console_availability.py::test_console_availability:
  skip:
    reason: "Not supported on existing testbed. the switch needs to be attached to a DUT via USB link."

dut_console/test_console_baud_rate.py::test_baud_rate_boot_connect:
  skip:
    reason: "test not supported for non-sonic console switch."

dut_console/test_console_baud_rate.py::test_baud_rate_sonic_connect:
  skip:
    reason: "test not supported for non-sonic console switch."

tests/nightly/auto_negotition/test_auto_neg.py::TestAutoNeg::test_auto_neg_toggle_peer_port:
  skip:
    reason: "Testcase ignored due to RM issue: https://redmine.mellanox.com/issues/3937842"
    conditions:
      - "https://redmine.mellanox.com/issues/3937842 and ('sn5400' in platform)"

########################## NVIDIA INTERNAL HIPPO BRINGUP IGNORE END ############################
