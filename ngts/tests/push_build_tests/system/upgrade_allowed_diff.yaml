# In this file stored data for check allowed difference in config_db.json during upgrade
# For compare JSON configs we use next library: https://pypi.org/project/deepdiff/
# Example below expect that we did manufacturing to version 201911 and the upgrade to 202012
# After upgrade we expect that 2 new items will be added to config_db.json:
# First  {...... "KDUMP": {HERE SOME VALUIES}, ........}
# Second {...... "VLAN": {"Vlan69": {"vlanid"}}, ......}
# One item will be removed from config_db.json - {...... "VLAN": {"Vlan690": {"vlanid"}}, ......}
# One item will be changed in config_db.json - {..... "FEATURE": {"what-just-happened": {"state" : value_changed}}, ...}
# Please see full description on example below:
# "201911":                                                <<< Base version(branch) from which we do upgrade
#  "202012":                                               <<< Target version(branch) to which we do upgrade
#    dictionary_item_added:                                <<< List with allowed new lines after upgrade
#      - root['KDUMP']                                     <<< Line which is allowed to be added after upgrade
#      - root['VLAN']['Vlan69']['vlanid']                  <<< Line which is allowed to be added after upgrade
#    dictionary_item_removed:                              <<< List with allowed removed lines after upgrade
#      - root['VLAN']['Vlan690']['vlanid']                 <<< Line which is allowed to be removed after upgrade
#    values_changed:                                       <<< List with allowed changed lines after upgrade
#      - root['FEATURE']['what-just-happened']['state']    <<< Line which is allowed to be changed after upgrade
# After upgrade the sonic image, during the image initialization, the hostcfgd service will be started, and during the
# hostcfgd service starting, it will do "KdumpCfg load ...", and then sonic-kdump-config is called, at this time, the
#'KDUMP' is written to the config_db.json file. when we copy the config_db.json file after the upgrade, we can not
# make sure 'KDUMP' has been written to the config_db.json, so add root['KDUMP'] to the ignore item.
"201911":
  "202012":
    dictionary_item_added:
      []
    ignored_items:
      - root['KDUMP']
    values_changed:
      []
  "master":
    dictionary_item_added:
      []
    ignored_items:
      - root['KDUMP']
"202012":
  "202012":
    dictionary_item_added:
      []
  "202106":
    dictionary_item_added:
      []
