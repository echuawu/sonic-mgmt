# In this file stored data for check allowed difference in config_db.json during upgrade
# For compare JSON configs we use next library: https://pypi.org/project/deepdiff/
# Example below expect that we did manufacturing to version 201911 and the upgrade to 202012
# After upgrade we expect that 2 new items will be added to config_db.json:
# First  {...... "KDUMP": {HERE SOME VALUIES}, ........}
# Second {...... "VLAN": {"Vlan69": {"vlanid"}}, ......}
# One item will be removed from config_db.json - {...... "VLAN": {"Vlan690": {"vlanid"}}, ......}
# One item will be changed in config_db.json - {..... "FEATURE": {"what-just-happened": {"state" : value_changed}}, ...}
# Please see full description on example below:
# "201911":                                                <<< Base version(branch) from which we do upgrade
#  "202012":                                               <<< Target version(branch) to which we do upgrade
#    dictionary_item_added:                                <<< List with allowed new lines after upgrade
#      - root['KDUMP']                                     <<< Line which is allowed to be added after upgrade
#      - root['VLAN']['Vlan69']['vlanid']                  <<< Line which is allowed to be added after upgrade
#    dictionary_item_removed:                              <<< List with allowed removed lines after upgrade
#      - root['VLAN']['Vlan690']['vlanid']                 <<< Line which is allowed to be removed after upgrade
#    values_changed:                                       <<< List with allowed changed lines after upgrade
#      - root['FEATURE']['what-just-happened']['state']    <<< Line which is allowed to be changed after upgrade

"201911":
  "202012":
    dictionary_item_added:
      - root['KDUMP']
      - root['WJH']
      - root['WJH_CHANNEL']
      - root['CRM']['Config']['dnat_entry_high_threshold']
      - root['CRM']['Config']['dnat_entry_low_threshold']
      - root['CRM']['Config']['dnat_entry_threshold_type']
      - root['CRM']['Config']['ipmc_entry_high_threshold']
      - root['CRM']['Config']['ipmc_entry_low_threshold']
      - root['CRM']['Config']['ipmc_entry_threshold_type']
      - root['CRM']['Config']['snat_entry_high_threshold']
      - root['CRM']['Config']['snat_entry_low_threshold']
      - root['CRM']['Config']['snat_entry_threshold_type']
      - root['DEVICE_METADATA']['localhost']['buffer_model']
      - root['FEATURE']['what-just-happened']
      - root['FEATURE']['restapi']
    ignored_items:
      - root['XCVRD_LOG']
    values_changed:
      - root['VERSIONS']['DATABASE']['VERSION']
  "master":
    dictionary_item_added:
      - root['KDUMP']
"202012":
  "202012":
    dictionary_item_added:
      - root['KDUMP']
